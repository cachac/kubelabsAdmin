# 10. RBAC <!-- omit in TOC -->

> Requerido el lab 09. KubeConfig
# 1. Modo de autorización del Cluster
```vim
kubectl describe pod kube-apiserver-cp01-USERLAB-kubelabs-tk -n kube-system | grep authorization
```

>  --authorization-mode=Node,RBAC

> RBAC está activo

# 2. Ver roles
```vim
k get roles --all-namespaces

kd roles rke2-ingress-nginx -n kube-system
```
> Resource Names = Recurso
>
> Verbs = acción


# 3. User Roles
## 3.1. Crear pods de prueba en ns PROD
```vim
k create ns prod-apps
ka assets/podinfo.yml -n prod-apps

kg pods  -n prod-apps
```
## 3.2. Crear Role & RoleBinding
## 3.3. Listar pods en ns prodution
## 3.4. Eliminar
## 3.5. Crear Pods
## 3.6. Cambiar role para crear Pods
## 3.7. Crear Pods

## 3.8. Evitar que un usuario pueda crear roles y autoasignar

kubectl delete pods --as userdev -n production



https://rancher.com/docs/rancher/v2.5/en/admin-settings/rbac/
